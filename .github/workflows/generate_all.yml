name: Create District Folders

on:
  workflow_dispatch:

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Create 36 folders + weather txt files
        run: |
          districts=(
            "Ahmednagar" "Akola" "Amravati" "Aurangabad" "Beed" "Bhandara" "Buldhana"
            "Chandrapur" "Dhule" "Gadchiroli" "Gondia" "Hingoli" "Jalgaon" "Jalna"
            "Kolhapur" "Latur" "Mumbai-City" "Mumbai-Suburban" "Nagpur" "Nanded"
            "Nandurbar" "Nashik" "Osmanabad" "Palghar" "Parbhani" "Pune" "Raigad"
            "Ratnagiri" "Sangli" "Satara" "Sindhudurg" "Solapur" "Thane"
            "Wardha" "Washim" "Yavatmal"
          )

          for district in "${districts[@]}"; do
            mkdir -p "$district"
            touch "$district/${district}-weather.txt"
          done

      - name: Commit folders
        run: |
          git config --local user.name "JuberBot"
          git config --local user.email "actions@github.com"
          git add .
          git commit -m "Created 36 district folders with weather txt" || echo "No changes"
          git push
